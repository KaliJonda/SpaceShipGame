pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
--init gets called once
--at the beginning
function _init()
	--screen clear
	cls()
	ship_spr=16
	ship_x=64
	ship_y=64

	ship_x_spd=0
	ship_y_spd=0

	prjtl_x=0
	prjtl_y=0
	
	projectile_type=2
	shooting=false
end

--update is for gameplay
--(hard 30fps)
function _update()
	handle_input()
	shoot_input()
	update_projectile()
	ship_animation()
end

--draw gets called when a
--new frame gets called to
--be drawn on the screen (30fps)
function _draw()
	cls()
	print(ship_x,1,0,7)
	print(ship_y,1,7,7)
	
	spr(ship_spr,ship_x,ship_y)
	

	if shooting then
		spr(projectile_type,prjtl_x,prjtl_y)
	end
end



--imma create functions downhere



--updates spaceship's position
--along the x-axis
function x_movement()
	ship_x += ship_x_spd
	
	if ship_x < 0 then
	  ship_x = 120
	elseif ship_x > 120 then
	  ship_x = 0
	end
end

--updates spaceship's position
--along the y-axis
function y_movement()
	ship_y += ship_y_spd
	
	if ship_y < 64 then
	  ship_y = 64
	elseif ship_y > 120 then
	  ship_y = 120
	end
end


--when u press a button
--sets ship_x_spd or 
--ship_y_spd and calls
--movement to update
--position
function handle_input()
		--btn() returns true/false
	if btn(0) then
	 ship_x_spd = -2
	 x_movement() 
	end 
	if btn(1) then
	 ship_x_spd = 2 
	 x_movement() 
	end 
	if btn(2) then 
	 ship_y_spd = -2 
	 y_movement() 
	end 
	if btn(3) then
	 ship_y_spd = 2
	 y_movement() 
	end
end


--controls spaceship's
--move animation
function ship_animation()
	if btn(0) then
	 ship_spr=17
	elseif btn(1) then
		ship_spr=18
	else
		ship_spr=16
	end
end


--when u press üÖæÔ∏è initializes
--shooting and 1st projectile
--position on screen
function shoot_input()
	if btnp(4) and not shooting then
		shooting=true
		sfx(0)
		prjtl_x=ship_x
		prjtl_y=ship_y-9
	end
end


--controls projectile animation
--and speed
function update_projectile()
	prjtl_y-=projectile_type
	
	if prjtl_y<=0 then
		shooting=false
	end
end
__gfx__
00000000000000000900009000099000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000009a9009a9009aa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000009a9009a909a77a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000009a9009a99a7777a9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000009a9009a99a7777a9000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000009a9009a909a77a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000009a9009a9009aa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000900009000099000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00022000000220000002200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00288200002882000028820000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00288200002882000028820000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02ecce2002cce200002ecc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2e8c78e2027c8e2002e8c72000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
28866882026688200288662000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
02855820025588200288552000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00299200029882000028892000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000000402b5402b5402a5402a540295402854027540265402554023540215401e5401b5401854015540115400d54007540035400254018500175001650015500135001350011500105000f5000d5000c500
